import{_ as x,o as a,c as s,a as e,F as k,f as y,g as M,t as h,p as $,d as L,h as u,i as f,j as g,v as b,k as C,e as z,u as B,l as U,m as w,b as A,n as j}from"./index.49611be7.js";const E={},H={class:"content"};function O(o,_,i,r,p,n){return a(),s("div",H,[e("button",{class:"btn",onClick:_[0]||(_[0]=c=>o.$emit("openAddShareData",""))},"Add Share Data")])}var q=x(E,[["render",O],["__scopeId","data-v-b0f5c8d0"]]);const G=o=>($("data-v-7fa85079"),o=o(),L(),o),J={class:"share-data-list"},K=["onContextmenu"],P={class:"title"},Q={class:"note"},R={class:"down-link"},W=G(()=>e("summary",null,"Download Link",-1)),X={class:"down-list"},Y={__name:"ShareDataList",props:{shareDataList:Array},setup(o){const _=o;function i(){console.log("context")}return(r,p)=>(a(),s("div",J,[(a(!0),s(k,null,y(_.shareDataList,n=>(a(),s("div",{key:n.id,onContextmenu:M(i,["prevent"]),class:"list-item"},[e("div",P,h(n.title),1),e("div",Q,"Note: "+h(n.note),1),e("details",R,[W,e("div",X,[(a(!0),s(k,null,y(n.file_url,c=>(a(),s("div",{key:c.title,class:"down-list-item"},h(c.title),1))),128))])])],40,K))),128))]))}};var Z=x(Y,[["__scopeId","data-v-7fa85079"]]);const D=o=>($("data-v-995cde28"),o=o(),L(),o),ee={class:"fixed"},te={class:"content-center"},ae=D(()=>e("div",{class:"header"},"Add Share Data",-1)),oe={key:0,class:"message red"},se={class:"t-form"},ne={class:"form-group"},le=D(()=>e("label",null,"Title",-1)),de={class:"form-group"},ie=D(()=>e("label",null,"Note",-1)),re={key:1},ce={class:"message red"},ue={class:"form-group"},_e={class:"d-link"},pe=D(()=>e("div",{class:"header"},"Download Link",-1)),ve=["onClick"],he={class:"btn-group"},me={__name:"AddShareData",setup(o,{emit:_}){const i=u(""),r=u(""),p=u(""),n=u([]),c=u(!1),l=u(""),v=u(""),S=u("");function I(){c.value=!0}function V(){c.value=!1}function F(){l.value!==""&&v!==""?(n.value.push({title:v.value,link:l.value}),l.value="",v.value=""):S.value="please fill title and link"}function T(m){n.value=n.value.filter(t=>t.title!==m)}function N(){if(r.value===""){i.value="please fill title field";return}const m={title:r.value,note:p.value,file_url:n.value};C.post("/api/v2/sharedata",m,{headers:{"Content-Type":"application/json"}}).then(t=>{console.log(t.data),_("close",t.data.shareData)}).catch(t=>{console.log(t.response)})}return(m,t)=>(a(),s("div",ee,[e("div",te,[ae,i.value!==""?(a(),s("div",oe,h(i.value),1)):f("",!0),e("div",se,[e("div",ne,[le,g(e("input",{type:"text",placeholder:"Title","onUpdate:modelValue":t[0]||(t[0]=d=>r.value=d)},null,512),[[b,r.value]])]),e("div",de,[ie,g(e("textarea",{placeholder:"Note","onUpdate:modelValue":t[1]||(t[1]=d=>p.value=d)},null,512),[[b,p.value]])]),c.value?f("",!0):(a(),s("button",{key:0,onClick:I,class:"btn"},"Show Download Form")),c.value?(a(),s("div",re,[e("div",ce,h(S.value),1),e("div",ue,[g(e("input",{type:"text",placeholder:"Title","onUpdate:modelValue":t[2]||(t[2]=d=>v.value=d)},null,512),[[b,v.value]]),g(e("input",{type:"text",placeholder:"Download Link","onUpdate:modelValue":t[3]||(t[3]=d=>l.value=d)},null,512),[[b,l.value]])]),e("button",{onClick:F,class:"btn add-btn"},"Add"),e("button",{onClick:V,class:"btn"},"Hide")])):f("",!0),e("div",_e,[pe,(a(!0),s(k,null,y(n.value,d=>(a(),s("div",{key:d,class:"link-item"},[z(h(d.title)+" ",1),e("span",{onClick:ye=>T(d.title),class:"del"},"x",8,ve)]))),128))])]),e("div",he,[e("button",{class:"btn bg-red",onClick:t[4]||(t[4]=d=>m.$emit("close",""))},"Cancel"),e("button",{class:"btn",onClick:N},"Add")])])]))}};var fe=x(me,[["__scopeId","data-v-995cde28"]]);const xe={class:"sharedata-component"},ge={__name:"index",setup(o){const _=B(),i=u(!1),r=u([]);U(()=>{p()});function p(){C.get("/api/v2/sharedata").then(l=>{console.log(l.data.shareDataFiles),r.value=l.data.shareDataFiles}).catch(l=>{console.log(l.response)})}function n(){i.value=!0}function c(l){i.value=!1,r.value.unshift(l)}return(l,v)=>(a(),s("div",xe,[i.value?(a(),w(fe,{key:0,onClose:c})):f("",!0),A(Z,{shareDataList:r.value},null,8,["shareDataList"]),j(_).isLogin?(a(),w(q,{key:1,onOpenAddShareData:n})):f("",!0)]))}};var be=x(ge,[["__scopeId","data-v-58983354"]]);const De={class:"share-data"},ke={__name:"ShareData",setup(o){return(_,i)=>(a(),s("div",De,[A(be)]))}};var we=x(ke,[["__scopeId","data-v-42b46fc5"]]);export{we as default};
