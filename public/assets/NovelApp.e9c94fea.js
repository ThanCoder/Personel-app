import{_ as m,o as l,c as r,a as e,t as i,p as C,e as D,F as j,h as I,i as N,j as n,k as f,l as v,v as h,d as $,m as U,n as S,b as k}from"./index.4df2801f.js";const L=o=>(C("data-v-08d740bd"),o=o(),D(),o),M={class:"app-detail"},T={class:"cover"},B=["src"],F={class:"content"},q={class:"title"},H={class:"user"},z={class:"version"},E={class:"version"},O={class:"url"},R=["href"],G=L(()=>e("summary",null,"Release Note",-1)),J={__name:"AppDetail",props:{app:Object},setup(o){const t=o;return(a,d)=>(l(),r("div",M,[e("div",T,[e("img",{src:t.app.cover_url!==""?t.app.cover_url:"https://i.postimg.cc/jScrHrjN/novel-icon.jpg",alt:"cover"},null,8,B)]),e("div",F,[e("div",q,i(t.app.title),1),e("div",H,"User: "+i(t.app.user),1),e("div",z,"Version: "+i(t.app.version_code),1),e("div",E,"Date: "+i(t.app.date),1),e("div",O,[e("a",{href:t.app.file_url,target:"__blank"},i(t.app.file_url),9,R)]),e("details",null,[G,e("p",null,i(t.app.note),1)])])]))}};var K=m(J,[["__scopeId","data-v-08d740bd"]]);const P={class:"app-list"},Q={__name:"AppList",props:{apps:Array},setup(o){const t=o;return(a,d)=>(l(),r("div",P,[(l(!0),r(j,null,I(t.apps,c=>(l(),N(K,{key:c.id,app:c},null,8,["app"]))),128))]))}};var W=m(Q,[["__scopeId","data-v-9bd1f09a"]]);const X={class:"content"},Y={__name:"Content",setup(o){return(t,a)=>(l(),r("div",X,[e("button",{onClick:a[0]||(a[0]=d=>t.$emit("showAddDialog","")),class:"btn"},"Add App")]))}};var Z=m(Y,[["__scopeId","data-v-1e540e88"]]);const w=o=>(C("data-v-7318b703"),o=o(),D(),o),ee={class:"add-app-dialog fixed"},te={class:"content-center"},se=w(()=>e("div",{class:"header"},"Add Novel App",-1)),oe={key:0,class:"message red"},ae={class:"t-form"},le={class:"form-group"},ne=$("Title "),de={key:0,class:"msg"},pe={class:"form-group"},ie=$("Version Code "),re={key:0,class:"msg"},ce={class:"form-group"},_e=$("File Url "),ue={key:0,class:"msg"},ve={class:"form-group"},he=w(()=>e("label",null,"Cover Url",-1)),fe={class:"form-group"},me=w(()=>e("label",null,"Note",-1)),ge={class:"btn-group"},xe={__name:"AddAppDialog",setup(o,{emit:t}){const a=n(""),d=n(0),c=n(""),u=n("https://i.postimg.cc/jScrHrjN/novel-icon.jpg"),_=n(""),g=n(""),x=n(""),b=n(""),A=n("");function V(){if(a.value===""){g.value="title is required";return}if(d.value===0)return x.value="version code is required",!1;if(c.value===""){b.value="file url is required";return}let y={title:a.value,version_code:d.value,file_url:c.value,cover_url:u.value,note:_.value};U.post("/api/v2/novel-app",y,{headers:{"Content-Type":"application/json"}}).then(s=>{console.log(s.data),t("close","")}).catch(s=>{console.log(s.response),s.response.data.error&&(A.value=s.response.data.error)})}return(y,s)=>(l(),r("div",ee,[e("div",te,[se,A.value!==""?(l(),r("div",oe,i(A.value),1)):f("",!0),e("form",ae,[e("div",le,[e("label",null,[ne,g.value!==""?(l(),r("div",de,i(g.value),1)):f("",!0)]),v(e("input",{type:"text",placeholder:"Title","onUpdate:modelValue":s[0]||(s[0]=p=>a.value=p)},null,512),[[h,a.value]])]),e("div",pe,[e("label",null,[ie,x.value!==""?(l(),r("div",re,i(x.value),1)):f("",!0)]),v(e("input",{type:"number",placeholder:"Version Code","onUpdate:modelValue":s[1]||(s[1]=p=>d.value=p)},null,512),[[h,d.value]])]),e("div",ce,[e("label",null,[_e,b.value!==""?(l(),r("div",ue,i(b.value),1)):f("",!0)]),v(e("input",{type:"text",placeholder:"File Url","onUpdate:modelValue":s[2]||(s[2]=p=>c.value=p)},null,512),[[h,c.value]])]),e("div",ve,[he,v(e("input",{type:"text",placeholder:"Cover Url","onUpdate:modelValue":s[3]||(s[3]=p=>u.value=p)},null,512),[[h,u.value]])]),e("div",fe,[me,v(e("textarea",{placeholder:"Note","onUpdate:modelValue":s[4]||(s[4]=p=>_.value=p)},null,512),[[h,_.value]])])]),e("div",ge,[e("button",{class:"btn bg-red",onClick:s[5]||(s[5]=p=>y.$emit("close"))},"Cancel"),e("button",{class:"btn",onClick:V},"Add")])])]))}};var be=m(xe,[["__scopeId","data-v-7318b703"]]);const Ae={class:"novel-app"},ye={__name:"NovelApp",setup(o){const t=n([]),a=n(!1);function d(){U.get("/api/v2/novel-app").then(_=>{console.log(_.data),t.value=_.data.apps}).catch(_=>{console.log(_.response)})}function c(){a.value=!0}function u(){a.value=!1,d()}return S(()=>{d()}),(_,g)=>(l(),r("div",Ae,[a.value?(l(),N(be,{key:0,onClose:u})):f("",!0),k(W,{apps:t.value},null,8,["apps"]),k(Z,{onShowAddDialog:c})]))}};var we=m(ye,[["__scopeId","data-v-46ff66b0"]]);export{we as default};
