import{_ as m,o as l,c as r,a as e,t as i,p as D,e as N,F as j,h as I,i as w,j as n,k as g,l as v,v as h,d as $,m as U,n as S,b as C}from"./index.ed8267bb.js";const L=o=>(D("data-v-3b9c5d88"),o=o(),N(),o),M={class:"app-detail"},T={class:"cover"},B=["src"],F={class:"content"},q={class:"title"},H={class:"user"},E={class:"version"},O={class:"version"},R={class:"url"},z=["href"],G=L(()=>e("summary",null,"Release Note",-1)),J={__name:"AppDetail",props:{app:Object},setup(o){const t=o;return(a,p)=>(l(),r("div",M,[e("div",T,[e("img",{src:t.app.cover_url!==""?t.app.cover_url:"https://i.postimg.cc/jScrHrjN/novel-icon.jpg",alt:"cover"},null,8,B)]),e("div",F,[e("div",q,i(t.app.title),1),e("div",H,"User: "+i(t.app.user),1),e("div",E,"Version: "+i(t.app.version_code),1),e("div",O,"Date: "+i(t.app.date),1),e("div",R,[e("a",{href:t.app.file_url,target:"__blank"},i(t.app.file_url),9,z)]),e("details",null,[G,e("p",null,i(t.app.note),1)])])]))}};var K=m(J,[["__scopeId","data-v-3b9c5d88"]]);const P={class:"app-list"},Q={__name:"AppList",props:{apps:Array},setup(o){const t=o;return(a,p)=>(l(),r("div",P,[(l(!0),r(j,null,I(t.apps,c=>(l(),w(K,{key:c.id,app:c},null,8,["app"]))),128))]))}};var W=m(Q,[["__scopeId","data-v-9bd1f09a"]]);const X={class:"content"},Y={__name:"Content",setup(o){return(t,a)=>(l(),r("div",X,[e("button",{onClick:a[0]||(a[0]=p=>t.$emit("showAddDialog","")),class:"btn"},"Add App")]))}};var Z=m(Y,[["__scopeId","data-v-1e540e88"]]);const k=o=>(D("data-v-36305856"),o=o(),N(),o),ee={class:"add-app-dialog fixed"},te={class:"content-center"},se=k(()=>e("div",{class:"header"},"Add Novel App",-1)),oe={key:0,class:"message red"},ae={class:"t-form"},le={class:"form-group"},ne=$("Title "),pe={key:0,class:"msg"},de={class:"form-group"},ie=$("Version Code "),re={key:0,class:"msg"},ce={class:"form-group"},_e=$("File Url "),ue={key:0,class:"msg"},ve={class:"form-group"},he=k(()=>e("label",null,"Cover Url",-1)),ge={class:"form-group"},me=k(()=>e("label",null,"Note",-1)),fe={class:"btn-group"},Ae={__name:"AddAppDialog",setup(o,{emit:t}){const a=n(""),p=n(0),c=n(""),u=n("https://i.postimg.cc/jScrHrjN/novel-icon.jpg"),_=n(""),f=n(""),A=n(""),x=n(""),b=n("");function V(){if(a.value===""){f.value="title is required";return}if(p.value===0)return A.value="version code is required",!1;if(c.value===""){x.value="file url is required";return}let y={title:a.value,version_code:p.value,file_url:c.value,cover_url:u.value,note:_.value};U.post("/api/v2/novel-app",y,{headers:{"Content-Type":"application/json"}}).then(s=>{console.log(s.data),t("close","")}).catch(s=>{console.log(s.response),s.response.data.error&&(b.value=s.response.data.error)})}return(y,s)=>(l(),r("div",ee,[e("div",te,[se,b.value!==""?(l(),r("div",oe,i(b.value),1)):g("",!0),e("form",ae,[e("div",le,[e("label",null,[ne,f.value!==""?(l(),r("div",pe,i(f.value),1)):g("",!0)]),v(e("input",{type:"text",placeholder:"Title","onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d)},null,512),[[h,a.value]])]),e("div",de,[e("label",null,[ie,A.value!==""?(l(),r("div",re,i(A.value),1)):g("",!0)]),v(e("input",{type:"number",placeholder:"Version Code","onUpdate:modelValue":s[1]||(s[1]=d=>p.value=d)},null,512),[[h,p.value]])]),e("div",ce,[e("label",null,[_e,x.value!==""?(l(),r("div",ue,i(x.value),1)):g("",!0)]),v(e("input",{type:"text",placeholder:"File Url","onUpdate:modelValue":s[2]||(s[2]=d=>c.value=d)},null,512),[[h,c.value]])]),e("div",ve,[he,v(e("input",{type:"text",placeholder:"Cover Url","onUpdate:modelValue":s[3]||(s[3]=d=>u.value=d)},null,512),[[h,u.value]])]),e("div",ge,[me,v(e("textarea",{placeholder:"Note","onUpdate:modelValue":s[4]||(s[4]=d=>_.value=d)},null,512),[[h,_.value]])])]),e("div",fe,[e("button",{class:"btn bg-red",onClick:s[5]||(s[5]=d=>y.$emit("close"))},"Cancel"),e("button",{class:"btn",onClick:V},"Add")])])]))}};var xe=m(Ae,[["__scopeId","data-v-36305856"]]);const be={class:"novel-app"},ye={__name:"NovelApp",setup(o){const t=n([]),a=n(!1);function p(){U.get("/api/v2/novel-app").then(_=>{console.log(_.data),t.value=_.data.apps}).catch(_=>{console.log(_.response)})}function c(){a.value=!0}function u(){a.value=!1,p()}return S(()=>{p()}),(_,f)=>(l(),r("div",be,[a.value?(l(),w(xe,{key:0,onClose:u})):g("",!0),C(W,{apps:t.value},null,8,["apps"]),C(Z,{onShowAddDialog:c})]))}};var ke=m(ye,[["__scopeId","data-v-edc8c8e2"]]);export{ke as default};
